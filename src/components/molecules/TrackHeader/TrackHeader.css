/**
 * TrackHeader Molecule Styles
 * Extracted from Track.css
 */

.track-header {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  background: color-mix(in srgb, var(--color-primary) 3%, transparent);
  border-right: var(--border-width-thin) solid var(--color-grid);
  min-width: 200px;
  width: var(--track-header-width, 200px);
  overflow: hidden;
  box-sizing: border-box;
  flex-shrink: 0;
  transition: background var(--transition-base) ease, border-left var(--transition-base) ease;
  position: relative;
}

/* Minimal padding when collapsed and adjust alignment */
.track-header--collapsed {
  padding: var(--spacing-xs) var(--spacing-sm) !important;
  align-items: center;
}

/* Cursor when draggable */
.track-header[draggable="true"] {
  cursor: grab;
}

.track-header[draggable="true"]:active {
  cursor: grabbing;
}

/* Current/selected track highlight */
.track-header--current {
  background: color-mix(in srgb, var(--color-primary) 10%, transparent);
  border-left: var(--spacing-xs) solid var(--color-primary);
  padding-left: calc(var(--header-padding, var(--spacing-md)) - var(--spacing-xs)) !important; /* Compensate for left border */
}

/* Controls - always horizontal layout */
.track-header__controls {
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;
  gap: var(--spacing-sm);
  flex-shrink: 0;
}

.track-header__collapse-button {
  background: none;
  border: none;
  color: var(--color-primary);
  cursor: pointer;
  padding: 0;
  margin: 0;
  font-size: var(--font-size-xs);
  line-height: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: var(--opacity-semi);
  transition: opacity var(--transition-base) ease;
  flex-shrink: 0;
}

.track-header__collapse-button:hover {
  opacity: var(--opacity-full);
}

.track-header__collapse-button:focus {
  outline: var(--border-width-thin) dotted var(--color-primary);
  outline-offset: var(--border-width-thin);
  opacity: var(--opacity-full);
}

.track-header__settings-button {
  background: none;
  border: none;
  color: var(--color-primary);
  cursor: pointer;
  padding: 0;
  margin: 0;
  font-size: var(--font-size-xs);
  line-height: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: var(--opacity-semi);
  transition: opacity var(--transition-base) ease;
  flex-shrink: 0;
}

.track-header__settings-button:hover {
  opacity: var(--opacity-full);
}

.track-header__settings-button:focus {
  outline: var(--border-width-thin) dotted var(--color-primary);
  outline-offset: var(--border-width-thin);
  opacity: var(--opacity-full);
}

/* ColorSwatch styles are now handled by the ColorSwatch molecule */

.track-header__name {
  flex: 1;
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  cursor: default;
  font-size: var(--font-size-sm);
  line-height: 1.2;
}

/* Hide input when collapsed */
.track-header--collapsed .track-header__name-input {
  display: none;
}

.track-header__name-input {
  flex: 1;
  min-width: 0;
  background: color-mix(in srgb, var(--primitive-black) 50%, transparent);
  border: var(--border-width-thin) solid var(--color-primary);
  color: var(--color-primary);
  padding: var(--spacing-xs) var(--spacing-xs);
  font-family: inherit;
  font-size: var(--font-size-sm);
  line-height: 1.2;
}
